# 问题描述

## 实现3种单例模式 (懒汉式、饿汉式、双重校验锁)

> 比如：工厂在项目运行当中，不应该存在多个，应该通过技术手段，使获取到的工厂均为同一个。

## 要点讲解

> 尽量考虑性能问题，多线程干扰情况，通过暴露方法向外提供同一实例。

## 单例模式（Singleton Pattern）

### 模式概述

> 该模式涉及到一个单一的类，该类负责创建自己的对象，同时确保只有单个对象被创建。这个类提供了一种访问其唯一的对象的方式，可以直接访问，不需要实例化该类的对象。

> 保证一个类仅有一个实例，并提供一个访问它的全局访问点。将单例类的构造函数设置为私有。

### 优点
1. 在内存里只有一个实例，减少了内存的开销，尤其是频繁的创建和销毁实例。
2. 避免对资源的多重占用（比如写文件操作）。

### 缺点
1. 没有接口，不能继承，与单一职责原则冲突，一个类应该只关心内部逻辑，而不关心外面怎么样来实例化。

## 注意事项
1. 单例类只能有一个实例。
2. 单例类必须自己创建自己的唯一实例。
3. 单例类必须给所有其他对象提供这一实例。
4. 懒汉式可能导致多线程情况下出现多实例情况。
5. 饿汉式当项目启动初就会初始化对象，如果该对象不使用，则会造成资源浪费。
6. 使用双重校验锁时，getInstance() 方法中需要使用同步锁 synchronized (Singleton.class) 防止多线程同时进入造成 instance 被多次实例化。
