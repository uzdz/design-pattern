# 问题描述

## 热饮店泡茶泡咖啡项目

> 开了一家热饮店，里面有两款产品：热咖啡、热茶。两款产品的步骤分别如下：

* 热咖啡：水烧开 -> 冲泡咖啡粉 —> 把咖啡倒入杯子 -> 加糖和牛奶

* 热茶：水烧开 -> 冲泡茶叶 -> 把茶水倒入杯子 -> 加柠檬

## 模板模式（Template Pattern）

### 模式概述

> 定义一个操作中的算法步骤的骨架，而将一个或多个步骤延迟到子类中。模板方法使得子类可以不改变一个算法的结构即可重定义该算法的某些特定步骤。

> 一般由抽象类实现，且抽象类中的模版方法由关键字final修饰，子类无权篡改模版方法，但是能重写抽象方法，实现具体步骤。

### 优点
1. 封装不变部分，扩展可变部分，定义好步骤流程骨架，具体方式由子类实现。
2. 提取公共代码，便于维护。
3. 行为由父类控制，子类实现。
4. 遵循好莱坞原则，即：不用调用我，我会调用你。将抽象类与子类解耦。

### 缺点
1. 每一个不同的实现都需要一个子类来实现，导致类的个数增加，使得系统更加庞大。

## 注意事项
1. 存在多个子类共有的方法，且逻辑相同，才能使用模版模式进行封装与解耦。
2. 重要的、复杂的方法，可以考虑作为模板方法，屏蔽复杂的流程，实现者只需要关注具体方法实现，而不需要关心整个流程骨架。
3. 为防止恶意操作，一般在模板方法上都加上final关键词，而具体实现方法由子类重写实现。

