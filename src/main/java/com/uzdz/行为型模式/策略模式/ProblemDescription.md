# 问题描述

## 模拟鸭子游戏

> 鸭子有很多种，所有的鸭子都会游泳，但是有的鸭子的头是红色的(红头鸭)，有的是绿色的(绿头鸭)。

> 为了解决上面的需求，结合策略模式实现？

## 要点讲解

> 分析项目变化与不变部分。提取变化部分，抽象成接口+实现（类只能单继承，但是类可以实现多个接口）。

> 通过将变化的部分抽象成接口，组成行为族。新增行为变得简单易复用，组合方便。

## 策略模式（Strategy Pattern）

### 模式概述

> 一个类的行为或其算法可以在运行时更改，这种类型的设计模式属于行为型模式。

> 分别封装修饰行为的策略接口，实现算法族，算法族内的策略可相互替换，超类里放行为接口对象，在子类里具体设定行为策略对象。

> 原则就是：分离变化的部分，封装成接口，基于接口编程各种功能。

> 此模式让行为算法的变化独立于算法的使用者。

### 优点
1. 优秀的扩展性，算法策略可以自由切换。
2. 避免使用多重条件判断，同时避免继承带来的子类侵入。

### 缺点
1. 随着业务的增多策略类会趋势递增。
2. 所有的策略类都需要对外暴露，提供调用方使用。

## 注意事项
1. 分析项目中变化部分与不变部分(组成行为族)。
2. 多用接口组合，少用继承；用行为类组合，而不是行为的继承，使得架构更有弹性。
3. 如果一个系统的策略多于四个，就需要考虑使用混合模式，解决策略类膨胀的问题。
