# 问题描述

## XY共享项目

> 当对象在享元池中存在时，获取缓存对象，如果不存在则创建，减轻资源的浪费。

## 享元模式（Flyweight Pattern）

### 模式概述

> 享元模式尝试重用现有的同类对象，如果未找到匹配的对象，则创建新对象。

> 运用共享技术有效地支持大量细粒度的对象，减少创建对象的数量，以减少内存占用和提高性能。

> String常量池、数据库连接池、缓冲池等等都是享元模式的应用，享元模式是池技术的重要实现方式。

### 优点
1. 大大减少对象的创建，降低系统的内存，使效率提高。
2. 外部状态不会影响内部状态，可以在不同环境下进行共享。

### 缺点
1. 提高了系统的复杂度，需要将享元对象分出内部状态和外部状态。

## 注意事项
1. 注意划分外部状态和内部状态，否则可能会引起线程安全问题。
2. 对象类必须有一个工厂对象加以控制。
3. 享元模式能够实现共享技术，通过享元池进行缓存共享。

# 享元模式中内部状态与外部状态

* 内部状态：指对象共享出来的信息，存储在享元对象内部并且不会随环境的改变而改变；
* 外部状态：指对象得以依赖的一个标记，是随环境改变而改变的、不可共享的状态；
